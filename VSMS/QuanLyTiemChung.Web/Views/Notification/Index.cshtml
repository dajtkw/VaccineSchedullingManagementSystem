@model IEnumerable<QuanLyTiemChung.Web.Models.Notification>
@{
    ViewData["Title"] = "Tất Cả Thông Báo";
}

<style>
    .notification-item.unread {
        background-color: #f8f9fa;
        font-weight: bold;
    }
    .notification-item a {
        text-decoration: none;
        color: inherit;
    }
</style>

<h2 class="mb-4">@ViewData["Title"]</h2>

<div class="list-group">
    @if (Model.Any())
    {
        @foreach (var notification in Model)
        {
            var itemClass = notification.IsRead ? "" : "unread";
            // Nếu không có URL, mặc định trỏ đến trang thông báo chính
            var targetUrl = string.IsNullOrEmpty(notification.Url) ? "#" : notification.Url;

            <a href="@targetUrl" class="list-group-item list-group-item-action flex-column align-items-start notification-item @itemClass">
                <div class="d-flex w-100 justify-content-between">
                    <p class="mb-1">@notification.Message</p>
                    <small class="text-muted">@notification.CreatedAt.ToLocalTime().ToString("HH:mm dd/MM/yyyy")</small>
                </div>
            </a>
        }
    }
    else
    {
        <div class="list-group-item">
            <p class="mb-0 text-muted">Bạn chưa có thông báo nào.</p>
        </div>
    }
</div>